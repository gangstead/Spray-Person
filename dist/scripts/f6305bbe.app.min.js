"use strict";angular.module("gangstead.SprayPerson",["ngAnimate","ngRoute","ngResource"]).constant("version","v0.1.0").config(["$locationProvider","$routeProvider",function(a,b){a.html5Mode(!1),b.when("/",{templateUrl:"views/home.html",controller:"MainCtrl"}).when("/person",{templateUrl:"views/person.html",controller:"PersonCtrl"}).when("/person/new",{templateUrl:"views/person-new.html",controller:"PersonNewCtrl"}).when("/person/:id",{templateUrl:"views/person-view.html",controller:"PersonViewCtrl"}).when("/person/:id/edit",{templateUrl:"views/person-edit.html",controller:"PersonEditCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("gangstead.SprayPerson").controller("MainCtrl",["$scope","$location","version",function(a,b,c){a.$path=b.path.bind(b),a.version=c}]).controller("PersonCtrl",["$scope","$location","$route","version","People",function(a,b,c,d,e){a.$path=b.path.bind(b),a.version=d,a.people=e.query(),a.canEdit=!0,a.canDelete=!0,a.deletePerson=function(a){a.$delete(function(){c.reload()})},a.editPerson=function(a){b.path("/person/"+a.id+"/edit")}}]).controller("PersonViewCtrl",["$scope","$location","$route","$routeParams","version","People",function(a,b,c,d,e,f){a.$path=b.path.bind(b),a.person=f.get({id:d.id}),a.canEdit=!0,a.canDelete=!0,a.deletePerson=function(a){a.$delete(function(){b.path("/person")})},a.editPerson=function(a){b.path("/person/"+a.id+"/edit")}}]).controller("PersonEditCtrl",["$scope","$location","$route","$routeParams","version","People",function(a,b,c,d,e,f){a.$path=b.path.bind(b),a.person=f.get({id:d.id}),a.canEdit=!1,a.canDelete=!0,a.deletePerson=function(a){a.$delete(function(){b.path("/person")})},a.updatePerson=function(){a.person.$update(function(){b.path("/person/"+a.person.id)})}}]).controller("PersonNewCtrl",["$scope","$location","$route","$routeParams","version","People",function(a,b,c,d,e,f){function g(a){return!isNaN(a)&&parseInt(Number(a))===a&&!isNaN(parseInt(a,10))}a.$path=b.path.bind(b),a.person=new f,a.canEdit=!1,a.canDelete=!1,a.addPerson=function(){g(a.person.age)||(a.person.age=0),a.person.$save(function(){b.path("/person")})}}]),angular.module("gangstead.SprayPerson").factory("People",["$resource",function(a){return a("api/person/:id",{id:"@id"},{update:{method:"PUT"}})}]);